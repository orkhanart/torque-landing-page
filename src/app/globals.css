@tailwind base;
@tailwind components;
@tailwind utilities;

/* Fonts */
@import url('https://fonts.googleapis.com/css2?family=Doto:wght@100;200;300;400;500;600;700;800;900&family=Funnel+Display:wght@300..800&display=swap');

/* Geist Font - Local or CDN */
@font-face {
  font-family: 'Geist';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-sans/Geist-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Geist';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-sans/Geist-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Geist';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-sans/Geist-SemiBold.woff2') format('woff2');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Geist';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-sans/Geist-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Geist Mono Font */
@font-face {
  font-family: 'Geist Mono';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-mono/GeistMono-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Geist Mono';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-mono/GeistMono-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Geist Mono';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-mono/GeistMono-SemiBold.woff2') format('woff2');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Geist Mono';
  src: url('https://cdn.jsdelivr.net/npm/geist@1.2.0/dist/fonts/geist-mono/GeistMono-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@layer base {
  :root {
    /* ===================================
       TORQUE DESIGN SYSTEM
       Digital Blue + Black/White/Gray
       =================================== */

    /* Font Families */
    --font-display: 'Instrument Sans', system-ui, sans-serif;
    --font-hero: 'Instrument Sans', system-ui, sans-serif;
    --font-body: 'Geist', system-ui, sans-serif;
    --font-mono: 'Geist Mono', monospace;

    /* Core Colors */
    --black: 210 11% 4%;            /* #08090A - near black */
    --white: 0 0% 100%;             /* #FFFFFF - pure white */
    --off-white: 207 100% 98%;      /* #F4FAFF - alice blue bg */
    --off-white-dark: 207 60% 95%;  /* slightly darker alice blue */

    /* Accent - Blue */
    --blue: 238 100% 50%;           /* #0008FF - blue */
    --blue-light: 206 98% 74%;      /* #7CC6FE - maya blue */
    --blue-dark: 238 100% 40%;      /* darker blue */

    /* Accent - Aquamarine */
    --aquamarine: 161 97% 68%;      /* #5DFDCB - aquamarine */
    --maya-blue: 206 98% 74%;       /* #7CC6FE - maya blue */

    /* Gray Scale (cool-tinted) */
    --gray-50: 207 100% 98%;        /* #F4FAFF */
    --gray-100: 207 40% 96%;        /* cool gray 100 */
    --gray-200: 210 20% 90%;        /* cool gray 200 */
    --gray-300: 210 15% 80%;        /* cool gray 300 */
    --gray-400: 210 10% 60%;        /* cool gray 400 */
    --gray-500: 210 8% 45%;         /* cool gray 500 */
    --gray-600: 210 8% 32%;         /* cool gray 600 */
    --gray-700: 210 10% 22%;        /* cool gray 700 */
    --gray-800: 210 11% 12%;        /* cool gray 800 */
    --gray-900: 210 11% 4%;         /* #08090A */

    /* Semantic Mappings */
    --background: var(--white);
    --foreground: var(--black);
    --card: var(--white);
    --card-foreground: var(--black);
    --popover: var(--white);
    --popover-foreground: var(--black);

    --primary: var(--black);
    --primary-foreground: var(--white);

    --secondary: var(--gray-100);
    --secondary-foreground: var(--black);

    --muted: var(--gray-100);
    --muted-foreground: var(--gray-500);

    --accent: var(--blue);
    --accent-foreground: var(--white);

    --destructive: 0 72% 51%;
    --destructive-foreground: var(--white);

    --border: var(--gray-200);
    --input: var(--gray-200);
    --ring: var(--blue);

    /* Semantic Colors (subtle) */
    --positive: 142 76% 36%;
    --positive-bg: 142 76% 97%;
    --negative: 0 72% 50%;
    --negative-bg: 0 72% 97%;
    --warning: 45 93% 47%;
    --warning-bg: 45 93% 97%;

    /* Radius */
    --radius: 0.5rem;

    /* Animation Durations */
    --duration-instant: 100ms;
    --duration-fast: 200ms;
    --duration-normal: 300ms;
    --duration-slow: 500ms;
    --duration-slower: 800ms;

    /* Easing */
    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  }

  /* Dark mode (inverse sections) */
  .dark, [data-theme="dark"] {
    --background: var(--black);
    --foreground: var(--white);
    --card: var(--gray-900);
    --card-foreground: var(--white);
    --popover: var(--gray-900);
    --popover-foreground: var(--white);

    --primary: var(--white);
    --primary-foreground: var(--black);

    --secondary: var(--gray-800);
    --secondary-foreground: var(--white);

    --muted: var(--gray-800);
    --muted-foreground: var(--gray-400);

    --accent: var(--blue);
    --accent-foreground: var(--white);

    --border: var(--gray-700);
    --input: var(--gray-700);
    --ring: var(--blue);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    font-family: var(--font-body);
    @apply bg-background text-foreground antialiased;
  }

  /* Selection */
  ::selection {
    @apply bg-black text-white;
  }
}

/* ===================================
   TYPOGRAPHY UTILITIES
   =================================== */

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Font Families */
  .font-display {
    font-family: var(--font-display);
  }

  .font-hero {
    font-family: var(--font-hero);
  }

  .font-body {
    font-family: var(--font-body);
  }

  .font-mono {
    font-family: var(--font-mono);
  }

  /* Terminal Text Styles */
  .text-terminal {
    font-family: var(--font-mono);
    @apply uppercase tracking-wider text-xs font-medium;
  }

  .text-label {
    font-family: var(--font-mono);
    @apply uppercase tracking-[0.1em] text-[10px] font-medium text-gray-500;
  }

  .text-data {
    font-family: var(--font-mono);
    @apply tabular-nums tracking-tight;
  }
}

/* ===================================
   TERMINAL COMPONENT STYLES
   =================================== */

@layer components {
  /* Terminal Card */
  .terminal-card {
    @apply border border-black bg-white;
  }

  .terminal-card-header {
    @apply flex items-center gap-2 px-4 py-2 bg-black text-white border-b border-black;
  }

  .terminal-card-dots {
    @apply flex gap-1.5;
  }

  .terminal-card-dot {
    @apply w-2.5 h-2.5 rounded-full bg-white/20;
  }

  .terminal-card-title {
    font-family: var(--font-mono);
    @apply text-xs uppercase tracking-wider font-medium ml-2;
  }

  .terminal-card-body {
    @apply p-4;
  }

  /* Terminal Button */
  .btn-terminal {
    font-family: var(--font-mono);
    @apply inline-flex items-center justify-center px-6 py-3 text-xs uppercase tracking-wider font-medium;
    @apply bg-black text-white border border-black;
    @apply transition-all duration-200;
  }

  .btn-terminal:hover {
    @apply bg-white text-black;
  }

  .btn-terminal-outline {
    font-family: var(--font-mono);
    @apply inline-flex items-center justify-center px-6 py-3 text-xs uppercase tracking-wider font-medium;
    @apply bg-white text-black border border-black;
    @apply transition-all duration-200;
  }

  .btn-terminal-outline:hover {
    @apply bg-black text-white;
  }

  /* Data Table */
  .data-table {
    @apply w-full border border-black;
  }

  .data-table th {
    font-family: var(--font-mono);
    @apply text-[10px] uppercase tracking-wider font-medium text-gray-500;
    @apply px-4 py-3 text-left bg-gray-50 border-b border-black;
  }

  .data-table td {
    font-family: var(--font-mono);
    @apply text-sm px-4 py-3 border-b border-gray-200;
  }

  .data-table tr:last-child td {
    @apply border-b-0;
  }

  /* Progress Bar */
  .progress-bar {
    @apply h-2 bg-gray-200 overflow-hidden;
  }

  .progress-bar-fill {
    @apply h-full bg-black transition-all duration-500;
  }

  /* Status Indicator */
  .status-dot {
    @apply w-2 h-2 bg-black;
  }

  .status-dot.live {
    @apply animate-pulse;
  }

  /* Tag */
  .tag {
    font-family: var(--font-mono);
    @apply inline-flex items-center px-2 py-0.5 text-[10px] uppercase tracking-wider font-medium;
    @apply bg-gray-100 text-gray-600;
  }

  .tag-positive {
    @apply bg-green-50 text-green-800;
  }

  .tag-negative {
    @apply bg-red-50 text-red-800;
  }
}

/* ===================================
   BACKGROUND EFFECTS
   =================================== */

@layer utilities {
  /* Grid Background */
  .bg-grid {
    background-image:
      linear-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  .bg-grid-dark {
    background-image:
      linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  /* Scan Lines */
  .scan-lines {
    position: relative;
  }

  .scan-lines::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.02) 2px,
      rgba(0, 0, 0, 0.02) 4px
    );
    pointer-events: none;
  }

  .scan-lines-dark::after {
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(255, 255, 255, 0.02) 2px,
      rgba(255, 255, 255, 0.02) 4px
    );
  }

  /* Noise Texture */
  .noise {
    position: relative;
  }

  .noise::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.03;
    pointer-events: none;
  }

  /* Vignette */
  .vignette {
    position: relative;
  }

  .vignette::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at center, transparent 0%, rgba(0, 0, 0, 0.1) 100%);
    pointer-events: none;
  }
}

/* ===================================
   ANIMATIONS
   =================================== */

@layer utilities {
  /* Typing Cursor */
  .cursor-blink::after {
    content: '_';
    animation: blink 1s step-end infinite;
  }

  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }

  /* Glitch Effect */
  .glitch {
    position: relative;
  }

  .glitch:hover {
    animation: glitch 0.3s ease-in-out;
  }

  @keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
  }

  /* Strobe Glitch - Double Invert Flash */
  @keyframes strobe-glitch {
    0% { filter: invert(0); }
    10% { filter: invert(1); }
    20% { filter: invert(0); }
    30% { filter: invert(1); }
    40% { filter: invert(0); }
    100% { filter: invert(0); }
  }

  .strobe-glitch:hover {
    animation: strobe-glitch 0.3s ease-out;
  }

  /* Flicker */
  .flicker {
    animation: flicker 4s infinite;
  }

  @keyframes flicker {
    0%, 100% { opacity: 1; }
    92% { opacity: 1; }
    93% { opacity: 0.8; }
    94% { opacity: 1; }
    95% { opacity: 0.9; }
    96% { opacity: 1; }
  }

  /* Scan Line Animation */
  .scan-animate {
    position: relative;
    overflow: hidden;
  }

  .scan-animate::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100%;
    background: linear-gradient(
      180deg,
      transparent 0%,
      rgba(0, 0, 0, 0.03) 50%,
      transparent 100%
    );
    animation: scanDown 8s linear infinite;
  }

  @keyframes scanDown {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
  }

  /* Fade Up */
  .animate-fade-up {
    animation: fadeUp 0.6s var(--ease-out) forwards;
    opacity: 0;
  }

  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Stagger children */
  .stagger-children > * {
    opacity: 0;
    animation: fadeUp 0.5s var(--ease-out) forwards;
  }

  .stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-children > *:nth-child(2) { animation-delay: 100ms; }
  .stagger-children > *:nth-child(3) { animation-delay: 200ms; }
  .stagger-children > *:nth-child(4) { animation-delay: 300ms; }
  .stagger-children > *:nth-child(5) { animation-delay: 400ms; }
  .stagger-children > *:nth-child(6) { animation-delay: 500ms; }

  /* Count up number animation placeholder */
  .count-up {
    font-variant-numeric: tabular-nums;
  }

  /* Mask fade for hero ASCII animation â€” smooth left-edge dissolve */
  .mask-fade-right {
    -webkit-mask-image: linear-gradient(to right, transparent 0%, black 40%);
    mask-image: linear-gradient(to right, transparent 0%, black 40%);
  }
  @media (min-width: 640px) {
    .mask-fade-right {
      -webkit-mask-image: linear-gradient(to right, transparent 0%, black 35%);
      mask-image: linear-gradient(to right, transparent 0%, black 35%);
    }
  }
  @media (min-width: 1024px) {
    .mask-fade-right {
      -webkit-mask-image: linear-gradient(to right, transparent 0%, black 25%);
      mask-image: linear-gradient(to right, transparent 0%, black 25%);
    }
  }
}

/* ===================================
   SECTION STYLES
   =================================== */

@layer components {
  /* Inverse Section (Dark) */
  .section-inverse {
    @apply bg-black text-white;
  }

  .section-inverse .terminal-card {
    @apply border-white/20 bg-black;
  }

  .section-inverse .terminal-card-header {
    @apply bg-white text-black border-white/20;
  }

  .section-inverse .btn-terminal {
    @apply bg-white text-black border-white;
  }

  .section-inverse .btn-terminal:hover {
    @apply bg-black text-white;
  }

  /* Hero specific */
  .hero-title {
    font-family: var(--font-display);
    @apply text-5xl sm:text-6xl lg:text-7xl xl:text-8xl font-medium tracking-tight leading-[0.95];
  }

  .hero-subtitle {
    font-family: var(--font-body);
    @apply text-lg sm:text-xl text-gray-600 leading-relaxed;
  }
}

/* ===================================
   SCROLLBAR
   =================================== */

/* Minimal scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: hsl(210 20% 90%);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(210 10% 60%);
}

/* Dark mode scrollbar */
.dark ::-webkit-scrollbar-thumb {
  background: hsl(210 10% 22%);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: hsl(210 8% 32%);
}
